(this["webpackJsonpgrocery-crud-3-frontend"]=this["webpackJsonpgrocery-crud-3-frontend"]||[]).push([[100],{1130:function(e,t,n){"use strict";n.r(t);var a=n(27),c=n(7),l={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"columns-modal":{composes:"modal",display:function(e){return e.columnsModalOpen?"block":"none"},opacity:"0","z-index":"10",animation:function(e){return e.columnsModalOpen?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}},"form-fields":{"overflow-x":"hidden","overflow-y":"auto",position:"relative","max-height":"calc(100vh - 240px)"}},o=n(3),r=function(e){var t=e.onChange,n=e.checked;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"checkbox",checked:n,onChange:t}),Object(o.jsx)("span",{})]})},i=Object(a.b)(l),s=function(e){var t=e.columns,n=e.columnsModalOpen,a=e.onColumnsModalClose,l=e.selectColumnsAllOrNone,s=e.toggleVisibleColumn,d=e.visibleColumns,b=i({columnsModalOpen:n});return Object(o.jsx)("div",{className:b["columns-modal"],tabIndex:"-1",role:"dialog",children:Object(o.jsxs)("div",{className:"modal-dialog modal-l",role:"document",children:[Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsx)("h4",{className:"modal-title",children:c.a.t("columns")}),Object(o.jsx)("div",{className:"modal-body",children:n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"checkbox",onChange:function(){return l(t)},checked:d.length===t.length}),Object(o.jsx)("span",{})]}),t.map((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("label",{children:[Object(o.jsx)(r,{checked:d.includes(e.name),onChange:function(){return s(e.name,t)}})," ",e.displayAs]})},e.name)}))]})})]}),Object(o.jsx)("div",{className:"modal-footer",children:Object(o.jsx)("button",{type:"button",className:"modal-close waves-effect waves-green btn-flat",onClick:a,children:c.a.t("close_modal")})})]})})},d=n(0),b={"column-text":{overflow:"hidden","max-width":"350px","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"},"column-action":{"white-space":"nowrap"}},u=n(247),j=Object(a.b)(b),m=function(e){var t=e.rows,n=e.visibleColumns,a=e.hasActions,c=j(e);return Object(o.jsx)("tbody",{children:t.map((function(t,l){return Object(o.jsxs)("tr",{children:[a&&Object(o.jsx)("td",{className:c["column-action"],children:Object(o.jsx)(u.a,Object(d.a)(Object(d.a)({},e),{},{primaryKeyValue:t.grocery_crud_extras.primaryKeyValue}))},"column__action"),n.map((function(e){return Object(o.jsx)("td",{children:t[e.name]?t[e.name]:Object(o.jsx)(o.Fragment,{children:"\xa0"})},e.name)}))]},l)}))})},f={checkbox:{"margin-right":"10px"}},h=Object(a.b)(f),p=function(e){var t=e.onChange,n=e.checked,a=h();return Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{type:"checkbox",className:a.checkbox,onChange:t,checked:n}),Object(o.jsx)("span",{})]})},x=n(213),O=n(226),g=n.n(O),v=n(251),y={footer:{display:"flex",padding:"5px",justifyContent:"space-between",alignItems:"center"},"footer-child":{display:"flex",alignItems:"center","& > div":{paddingRight:"5px"}},pagination:{composes:"pagination",margin:"0"},"pagination-item":{composes:"waves-effect","& input.gc-page-input[type=number]":{width:"100px",height:"32px",padding:"6px 12px",margin:"0","box-sizing":"border-box"}},"pagination-button":{"& i.fas":{"font-size":"18px"}},"@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},loader:{border:"4px solid #f3f3f3","border-radius":"50%","border-top":"4px solid #3498db",width:"16px",height:"16px","-webkit-animation":"$spin 2s linear infinite",animation:"$spin 2s linear infinite","margin-right":"10px"}},N=Object(a.b)(y),k=function(e){var t=N(e),n=e.filteredTotalEntries,a=e.goToFirstPage,c=e.goToLastPage,l=e.goToNextPage,r=e.goToPreviousPage,i=e.lastPage,s=e.page,d=e.pageChange,b=e.totalEntries,u=e.perPage,j=e.perPageChange,m=e.forceSearch,f=e.pagingLoading,h=e.pagingOptions;return Object(o.jsxs)("div",{className:t.footer,children:[Object(o.jsxs)("div",{className:t["footer-child"],children:[Object(o.jsx)("div",{children:"Show"}),Object(o.jsx)("div",{className:"floatL r5 l5 t3 per-page-container",children:Object(o.jsx)("select",{className:"form-control form-select",onChange:j,value:u,style:{display:"block"},children:h.map((function(e){return Object(o.jsx)("option",{value:e,children:e},e)}))})}),Object(o.jsx)("div",{children:"entries"})]}),Object(o.jsxs)("div",{className:t["footer-child"],children:[f&&Object(o.jsx)("div",{className:t.loader}),n&&!f?Object(o.jsx)("div",{children:Object(o.jsx)(v.a,{currentPage:s,totalEntries:b,perPage:u,filteredTotalEntries:n})}):null,Object(o.jsx)("div",{children:Object(o.jsxs)("ul",{className:t.pagination,children:[Object(o.jsx)("li",{className:g()("waves-effect",{disabled:1===s}),children:Object(o.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),a(s,i)},className:t["pagination-button"],children:Object(o.jsx)(x.a,{icon:"step-backward"})})}),Object(o.jsx)("li",{className:g()("waves-effect",{disabled:1===s}),children:Object(o.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),r(s,i)},className:t["pagination-button"],children:Object(o.jsx)(x.a,{icon:"chevron-left"})})}),Object(o.jsx)("li",{className:t["pagination-item"],children:Object(o.jsx)("input",{type:"number",className:"gc-page-input",value:s,onChange:function(e){return d(e,s,i)},disabled:0===n,onKeyUp:function(e){"Enter"===e.key&&m()}})}),Object(o.jsx)("li",{className:g()("waves-effect",{disabled:s===i}),children:Object(o.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),l(s,i)},className:t["pagination-button"],children:Object(o.jsx)(x.a,{icon:"chevron-right"})})}),Object(o.jsx)("li",{className:g()("waves-effect",{disabled:s===i}),children:Object(o.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),c(s,i)},className:t["pagination-button"],children:Object(o.jsx)(x.a,{icon:"step-forward"})})})]})})]})]})},C={"search-column":{"min-width":"160px"},"table-th-with-ordering":{cursor:"pointer","&:hover":{background:"var(--gc-table-hover-background)"}},"actions-column-header":{"align-items":"center",display:"flex",height:"39px"},"with-ordering":{display:"flex","justify-content":"space-between","align-items":"center"},"input-text":{composes:"form-control"},"input-select":{composes:"form-control form-select"},"input-select-search":{}},w=n(223),_=n(225),S=n(4),M=Object(a.b)(C),F=function(e){var t=e.DatagridCheckbox,n=e.columnOrdering,a=e.columnSearch,l=e.columnSearchValues,r=e.extendedSearchData,i=e.forceSearch,s=e.hasActions,d=e.onMultipleDeleteModalOpen,b=e.onSelectRowAllOrNone,u=e.options.actionButtonHasText,j=e.selectRowsAllOrNoneChecked,m=e.selectedIds,f=e.sorting,h=e.sortingFor,p=e.visibleColumns,O=e.loadCssThirdParty,g=M(e),v=0===r.length;return Object(o.jsxs)("thead",{children:[Object(o.jsxs)("tr",{children:[s&&p.length>0&&Object(o.jsx)("th",{children:c.a.t("actions")}),p.map((function(e){return Object(o.jsx)("th",{className:g["table-th-with-ordering"],onClick:function(){return n({columnName:e.name,sorting:""===f||"desc"===f?"asc":"desc"})},children:Object(o.jsxs)("div",{className:g["with-ordering"],children:[Object(o.jsx)("span",{children:e.displayAs}),h===e.name?Object(o.jsx)(x.a,{icon:"asc"===f?"sort-amount-down-alt":"sort-amount-down"}):Object(o.jsx)(x.a,{icon:"sort"})]})},e.name)}))]}),Object(o.jsxs)("tr",{children:[s&&p.length>0&&Object(o.jsx)("td",{children:Object(o.jsxs)("div",{className:g["actions-column-header"],children:[Object(o.jsx)(t,{onChange:b,checked:j}),m.length>0&&Object(o.jsxs)("button",{type:"button",className:"btn btn-default btn-outline-dark",onClick:d,children:[Object(o.jsx)(x.a,{icon:"trash"}),"\xa0\xa0",u&&Object(o.jsx)("span",{children:c.a.t("action_delete")})]})]})}),p.map((function(e){var t=Object(w.l)(e.dataType);return Object(o.jsx)("td",{className:g["search-column"],children:v&&Object(o.jsx)(t,{className:g[Object(_.b)(e.dataType)],placeholder:c.a.t("quick_search"),permittedValues:e.permittedValues,loadCssThirdParty:O,onChange:function(t){a({columnName:e.name,searchValue:t.target.value,searchValueDisplayAs:t.target.displayAs}),!0===Object(w.n)(e.dataType)&&i()},onKeyUp:function(e){"Enter"===e.key&&i()},value:l[e.name]?l[e.name]:""})},e.name)}))]})]})};F.defaultProps={hasActions:!1,visibleColumns:[],options:{actionButtonHasText:!0}};var D=F,V=function(e){var t=e.title;return Object(o.jsx)("div",{className:"gc-datagrid-title",children:t})},I={"datagrid-tools":{position:"relative",padding:"10px","border-left":"1px solid var(--gc-border-separator-color)","border-right":"1px solid var(--gc-border-separator-color)",display:"flex","justify-content":"space-between"},"tools-container":{display:"flex"},"simple-button":{composes:"btn","margin-right":"5px"}},T=n(219),A=n(2),E=n(15),P=n(228),L={"dropdown-menu":{composes:"dropdown-content",left:"auto",top:"auto",display:function(e){return e.opened?"block":"none"},opacity:function(e){return e.opened?"1":"0"},right:function(e){return e.direction===P.a.RIGHT?"0":"auto"}},"dropdown-menu-container":{display:"inline-flex","margin-left":function(e){return e.leftSpace?"5px":"0"}},"dropdown-menu-button":{composes:"dropdown-trigger btn",display:"inline-flex","align-items":"center"}},B=Object(a.b)(L),K=function(e){var t=e.buttons,n=e.buttonIcon,a=e.buttonLabel,c=e.direction,l=e.leftSpace,r=Object(S.useRef)(null),i=Object(S.useState)(!1),s=Object(E.a)(i,2),d=s[0],b=s[1];var u=B({opened:d,direction:c,leftSpace:l});return 0===t.length?null:Object(o.jsxs)("div",{className:u["dropdown-menu-container"],ref:r,children:[Object(o.jsxs)("button",{className:u["dropdown-menu-button"],onClick:function(){b(!d)},onBlur:function(e){setTimeout((function(){b(!1)}),200)},children:[n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.a,{icon:n}),"\xa0"]}),a,"\xa0\xa0",Object(o.jsx)(x.a,{icon:"caret-down"})]}),Object(o.jsx)("ul",{className:u["dropdown-menu"],children:t.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:e.url?e.url:"",target:e.newTab?"_blank":void 0,className:"dropdown-item",rel:"noreferrer",onClick:e.onClick?function(t){t.preventDefault(),e.onClick&&e.onClick({primaryKeyValue:e.primaryKeyValue})}:void 0,children:Object(o.jsxs)("span",{children:[e.icon&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.a,{icon:e.icon}),"\xa0\xa0"]}),e.text]})})},e.key)}))})]})};K.defaultProps={buttons:[],buttonIcon:"",buttonLabel:"",direction:"left",leftSpace:!1};var R=K,z=n(28),$={"simple-button":{composes:"btn","margin-right":"5px","margin-left":function(e){return e.leftSpace?"5px":void 0},".modal .modal-footer .btn&":{"margin-right":"5px","margin-left":function(e){return e.leftSpace?"5px":void 0}}}},H=Object(a.b)($),U=function(e){var t=e.onClick,n=e.icon,a=e.label,c=e.link,l=void 0!==c&&c,r=e.href,i=e.leftSpace,s=H({leftSpace:i});return l?Object(o.jsxs)("a",{className:s["simple-button"],onClick:t,href:r,children:[n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.a,{icon:n}),"\xa0"]}),a]}):Object(o.jsxs)("button",{className:s["simple-button"],onClick:t,children:[n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.a,{icon:n}),"\xa0"]}),a]})},G=n(11),q=n(12),J=n(29),W=Object(a.b)(I),Q=function(e){var t=e.apiUrl,n=e.columnSearchValues,a=e.extendedSearchData,l=e.hasAdd,r=e.onAdd,i=e.onClearCache,s=e.onClearFiltering,d=e.onFilteringModalOpen,b=e.onOrderingReset,u=e.onRefresh,j=e.sorting,m=e.sortingFor,f=e.subject,h=e.visibleColumnsAsShortString,p=W(e),O=Object(G.c)(),g=Object(G.d)((function(e){return e.configuration.hasSettings})),v=Object(G.d)((function(e){return e.configuration.hasPrint})),y=Object(G.d)((function(e){return e.configuration.hasFilters})),N=Object(G.d)((function(e){return e.configuration.hasColumnsButton})),k=Object(G.d)((function(e){return e.configuration.hasExportData})),C=Object(G.d)((function(e){return e.configuration.hasExportPdf})),w=Object(G.d)((function(e){return e.configuration.hasExportExcel})),_=l,S={apiUrl:t,columnSearchValues:n,sorting:j,sortingFor:m,visibleColumnsAsShortString:h,extendedSearchData:a};try{return _?Object(o.jsxs)("div",{className:p["datagrid-tools"],children:[l&&Object(o.jsx)(U,{link:!0,href:"/add",icon:"plus",label:Object(T.c)(A.a.ADD,f),onClick:function(e){e.preventDefault(),r()}}),Object(o.jsxs)("div",{children:[y&&Object(o.jsxs)("button",{className:a.length>0?p["success-button"]:p["simple-button"],onClick:d,children:[Object(o.jsx)(x.a,{icon:"filter"}),"\xa0",Object(T.b)(a.length)]}),y&&a.length>0&&Object(o.jsxs)("button",{className:p["danger-button"],onClick:s,children:[Object(o.jsx)(x.a,{icon:"eraser"}),"\xa0",c.a.t("filtering_remove_filters")]}),N&&Object(o.jsx)(U,{onClick:function(){return function(e){return e({type:q.a.MODAL_OPEN})}(O)},label:c.a.t("columns"),icon:"list-alt"}),v&&Object(o.jsxs)("a",{className:p["simple-button"],href:Object(z.g)(S),rel:"noreferrer",target:"_blank",children:[Object(o.jsx)(x.a,{icon:"print"}),"\xa0",c.a.t("print")]}),k&&Object(o.jsx)(R,{buttons:[w&&{icon:"file-excel",text:"Excel",url:Object(z.a)(S),newTab:!0,key:"excel"},C&&{icon:"file-pdf",text:"PDF",url:Object(z.f)(S),newTab:!0,key:"pdf"}],buttonLabel:c.a.t("export_to_file"),buttonIcon:"download",leftSpace:!0}),g&&Object(o.jsx)(R,{leftSpace:!0,direction:P.a.RIGHT,buttons:[{icon:"broom",text:c.a.t("clear_cache"),onClick:i,key:"clear_cache"},{icon:"eraser",text:c.a.t("clear_filtering"),onClick:s,key:"clear_filtering"},{icon:"unlink",text:c.a.t("reset_ordering"),onClick:b,key:"reset_ordering"},{icon:"sync-alt",text:c.a.t("refresh"),onClick:u,key:"refresh"}],buttonLabel:c.a.t("settings"),buttonIcon:"cog"})]})]}):null}catch(M){return console.log(M),Object(o.jsx)(J.a,{})}},X=function(e){var t=e.children;return Object(o.jsx)("table",{className:"highlight",children:t})},Y={composes:"modal modal-fixed-footer",opacity:"0","z-index":"10"},Z={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"@keyframes shine":{to:{"background-position":"100% 0"}},"form-dialog":Object(d.a)(Object(d.a)({},Y),{},{display:function(e){return e.formModalOpen?"block":"none"},animation:function(e){return e.formModalOpen?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}}),"modal-delete-one":Object(d.a)(Object(d.a)({},Y),{},{display:function(e){return e.deleteOneModalOpen?"block":"none"},animation:function(e){return e.deleteOneModalOpen?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}}),"modal-delete-multiple":Object(d.a)(Object(d.a)({},Y),{},{display:function(e){return e.deleteMultipleModalOpen?"block":"none"},animation:function(e){return e.deleteMultipleModalOpen?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}}),"form-fields":{position:"relative","max-height":"calc(100vh - 240px)"},"skeleton-loader":{width:"100%",height:"15px",border:"1px solid rgb(239,239,239)","border-radius":"4px",display:"block","background-repeat":"repeat-y","background-size":"50px 500px","background-position":"0 0",background:"linear-gradient(to right, rgba(239, 239, 239, 0), rgba(239, 239, 239, 0.5) 50%, rgba(239, 239, 239, 0) 80%),rgb(255,255,255)",animation:"$shine 2s infinite","animation-delay":"0.3s"}},ee={"mini-grid":{composes:"table table-bordered table-hover","margin-bottom":"0px"},"scrolling-wrapper":{width:"100%",position:"relative","overflow-x":"auto"},"column-text":{"&>span":{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},"align-items":"center","max-width":"350px","min-width":"0","vertical-align":"middle",display:"flex",height:"38px"},"mini-grid-body":{".table &":{"border-top":"none"}}},te=n(5),ne=Object(a.b)(ee),ae=function(e){return e.configuration.locale},ce=function(e){return e.configuration.dateFormat},le=function(e){var t=e.visibleColumns,n=e.rows,a=ne(),c=Object(G.d)(ae),l=Object(G.d)(ce);return Object(o.jsx)("div",{className:a["scrolling-wrapper"],children:Object(o.jsxs)("table",{className:a["mini-grid"],children:[Object(o.jsx)("thead",{children:Object(o.jsx)("tr",{children:t.map((function(e){return e.dataType===te.a.INVISIBLE?null:Object(o.jsx)("th",{children:e.displayAs},e.name)}))})}),Object(o.jsx)("tbody",{className:a["mini-grid-body"],children:n.map((function(e,n){return Object(o.jsx)("tr",{children:t.map((function(t){return t.dataType===te.a.INVISIBLE?null:Object(o.jsx)("td",{children:Object(o.jsx)("div",{className:a["column-text"],children:Object(_.a)(e[t.name],t.dataType,{permittedValues:t.permittedValues,fieldName:t.name,locale:c,dateFormat:l,primaryKeyValue:e.grocery_crud_extras.primaryKeyValue})})},t.name)}))},n)}))})]})})},oe=Object(a.b)(Z),re=function(e){var t=e.deleteMultipleModalOpen,n=e.deleteMultipleModalClose,a=e.deleteMultiple,l=e.selectedIds,r=e.visibleColumnsWithDetails,i=e.rows,s=oe(e);return Object(o.jsx)("div",{className:s["modal-delete-multiple"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:Object(o.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("h5",{className:"modal-title",children:c.a.t("action_delete")}),Object(o.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:n})]}),Object(o.jsxs)("div",{className:"modal-body",children:[Object(o.jsx)("p",{children:Object(T.a)(l.length)}),t&&Object(o.jsx)(le,{visibleColumns:r,rows:i.filter((function(e){return l.includes(e.grocery_crud_extras.primaryKeyValue)}))})]}),t&&Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:n,children:c.a.t("cancel")}),l.length>0&&Object(o.jsx)("button",{type:"button",className:"btn btn-danger delete-single-confirmation-button",onClick:a,children:c.a.t("action_delete")})]})]})})})},ie=Object(a.b)(Z),se=function(e){var t=e.deleteOneModalOpen,n=e.deleteOneModalClose,a=e.deleteOne,l=ie(e);return Object(o.jsxs)("div",{className:l["modal-delete-one"],tabIndex:"-1",children:[Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsx)("h4",{children:c.a.t("action_delete")}),Object(o.jsx)("p",{children:c.a.t("confirm_delete")})]}),t&&Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)(U,{onClick:n,label:c.a.t("cancel")}),Object(o.jsx)("button",{type:"button",className:"btn red",onClick:a,children:c.a.t("action_delete")})]})]})},de={"error-dialog":{composes:"modal","z-index":"1100",display:function(e){return e.showError?"block":"none"}},"error-details":{width:"100%",height:"200px"}},be=Object(a.b)(de),ue=function(e){var t=e.closeModal,n=e.showError,a=e.details,l=e.message,r=be({showError:n});return Object(o.jsx)("div",{className:r["error-dialog"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:Object(o.jsx)("div",{className:"modal-dialog modal-xl",role:"document",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("h5",{className:"modal-title",children:c.a.t("error_generic_title")}),Object(o.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:t})]}),Object(o.jsxs)("div",{className:"modal-body",children:[Object(o.jsxs)("div",{children:["Message: ",l]}),Object(o.jsx)("div",{children:"Error:"}),Object(o.jsx)("div",{children:Object(o.jsx)("textarea",{defaultValue:a||"",className:r["error-details"]})})]}),Object(o.jsx)("div",{className:"modal-footer",children:Object(o.jsx)("button",{type:"button",className:"btn btn-default btn-outline-dark","data-dismiss":"modal",onClick:t,children:c.a.t("close_modal")})})]})})})};ue.defaultProps={formFields:[]};var je=ue,me={"@keyframes fadeIn":{"0%":{opacity:"0.1"},"66%":{opacity:" 0.5"},"100%":{opacity:"1"}},"filtering-modal":{composes:"modal","z-index":"10",display:function(e){return e.filteringModalOpen?"block":"none"},opacity:"0",animation:function(e){return e.filteringModalOpen?"$fadeIn 0.15s ease 0s normal forwards 1":"none"}},"form-fields":{"overflow-x":"hidden","overflow-y":"auto",position:"relative","max-height":"calc(100vh - 240px)"}},fe=n(218),he={"filtering-row":{composes:"row","padding-top":"10px","padding-bottom":"10px"}},pe=n(63),xe=n(62),Oe=n(252),ge=Object(a.b)(he),ve=function(e){var t=e.onFilteringModalClose,n=e.columns,a=e.onSubmit,l=e.extendedSearchOperator,r=e.extendedSearchData,i=Object(fe.d)({defaultValues:{basic_operator:l||"AND",extended_search:r.length>0?r:[{name:n[0].name,filter:"contains",value:""}]}}),s=i.control,b=i.handleSubmit,u=i.getValues,j=Object(fe.c)({control:s,name:"extended_search"}),m=j.fields,f=j.append,h=j.remove,p=j.insert,O=ge(e),g=m.length;return Object(o.jsxs)("form",{className:"form-horizontal",onSubmit:b((function(e){if(a){var t=[];e.extended_search.forEach((function(e){null!==e&&t.push(e)})),a(Object(pe.a)(Object(d.a)(Object(d.a)({},e),{},{extended_search:t})))}}),(function(e,t){return console.log(e,t)})),children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("h5",{className:"modal-title",children:c.a.t("filtering_filter_text")}),Object(o.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:t})]}),Object(o.jsxs)("div",{className:"modal-body",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("label",{className:"col-md-3 control-label",children:[c.a.t("filtering_operator")," :"]}),Object(o.jsx)("div",{className:"col-md-3",children:Object(o.jsx)(fe.a,{render:function(e){var t=e.field,n=t.onChange,a=(t.onBlur,t.value);return Object(o.jsxs)("select",{name:"basic_operator",onChange:n,className:"form-control form-select",defaultValue:a,children:[Object(o.jsx)("option",{value:"AND",children:c.a.t("filtering_and_statement")}),Object(o.jsx)("option",{value:"OR",children:c.a.t("filtering_or_statement")})]})},name:"basic_operator",control:s,defaultValue:"AND"})})]}),Object(o.jsx)("div",{children:m.map((function(e,t){var a=u("extended_search[".concat(t,"]")).name,c=n.find((function(e){return e.name===a}));return Object(o.jsxs)("div",{className:O["filtering-row"],children:[Object(o.jsx)("div",{className:"col-md-1",children:Object(o.jsx)("button",{className:"btn btn-outline-dark btn-block",type:"button",onClick:function(){return h(t)},disabled:1===g,children:Object(o.jsx)(x.a,{icon:"trash"})})}),Object(o.jsx)("div",{className:"col-md-3",children:Object(o.jsx)(fe.a,{render:function(e){var a=e.field,c=a.onChange,l=(a.onBlur,a.value);return Object(o.jsx)("select",{onChange:function(e){var a=Object(d.a)({},u("extended_search[".concat(t,"]"))),l=e.target.value,o=n.find((function(e){return e.name===a.name})),r=n.find((function(e){return e.name===l}));Object(xe.a)(o.dataType,r.dataType)&&(h(t),p(t,{name:l,filter:Object(xe.d)(r.dataType),value:""})),c(e)},className:"form-control form-select",name:"extended_search[".concat(t,"].name"),value:l,children:n.map((function(e){return e.isSearchable&&Object(o.jsx)("option",{value:e.name,children:e.displayAs},e.name)}))})},name:"extended_search[".concat(t,"].name"),control:s,defaultValue:e.firstName})}),Object(o.jsx)("div",{className:"col-md-3",children:Object(o.jsx)(fe.a,{render:function(e){var n=e.field,a=n.onChange,l=n.value;return Object(o.jsx)(Oe.a,{onChange:function(e){var n=Object(d.a)({},u("extended_search[".concat(t,"]"))),c=e.target.value;Object(xe.b)(n.filter,c)&&(h(t),p(t,{name:n.name,filter:c,value:xe.c[c]?null:""})),a(e)},className:"form-control form-select",name:"extended_search[".concat(t,"].filter"),value:l,dataType:c.dataType})},name:"extended_search[".concat(t,"].filter"),control:s,defaultValue:e.filter})}),Object(o.jsx)("div",{className:"col-md-5",children:Object(o.jsx)(fe.a,{render:function(e){var n=e.field,a=n.onChange,l=n.onBlur,r=n.value;if(null===r)return null;var i=c.dataType,s=c.permittedValues,d=Object(w.l)(i);return Object(o.jsx)(d,{onChange:a,onBlur:l,className:O[Object(w.j)(i)],name:"extended_search[".concat(t,"].value"),value:r,required:!0,permittedValues:s})},name:"extended_search[".concat(t,"].value"),control:s,defaultValue:e.value})})]},e.id)}))}),Object(o.jsx)("div",{className:O["filtering-row"],children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsxs)("button",{type:"button",className:"btn btn-default btn-outline-dark",onClick:function(){f({name:n[0].name,filter:"contains",value:""})},children:[Object(o.jsx)(x.a,{icon:"plus"}),"\xa0",c.a.t("filtering_add_more")]})})})]}),Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)(U,{onClick:t,label:c.a.t("filtering_cancel")}),Object(o.jsx)("button",{type:"submit",className:"btn green",children:c.a.t("filtering_filter_text")})]})]})},ye=Object(a.b)(me),Ne=function(e){var t=e.filteringModalOpen,n=e.onFilteringSubmit,a=e.columns,c=ye(e);return Object(o.jsx)("div",{className:c["filtering-modal"],tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel",children:t&&Object(o.jsx)(ve,Object(d.a)(Object(d.a)({},e),{},{fields:a,onSubmit:n}))})},ke=n(292),Ce=n(23),we=Object(a.b)(Z),_e=function(e){var t=e.modalLoading,n=e.formModalClose,a=e.formFields,l=e.formState,r=e.onFormSubmit,i=e.readOnly,s=e.publishEvents,d=Object(fe.d)(),b=d.handleSubmit,u=d.control,j=d.setValue;Object(S.useEffect)((function(){var e=function(e){var t=e.detail;j(t.fieldName,t.fieldValue)};return s&&Object(Ce.c)(Ce.a,e),function(){s&&Object(Ce.d)(Ce.a,e)}}),[j,s]);var m=we({modalLoading:t,formModalClose:n,formFields:a});return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{onSubmit:b((function(e){r({formState:l,data:e})}),(function(e,t){return console.log(e,t)})),children:[Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsx)("h4",{children:Object(T.c)(l)}),Object(o.jsx)("div",{className:m["form-fields"],children:t?"Loading...":a.map((function(e){return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("label",{htmlFor:"gc-form-".concat(e.fieldName),children:e.displayAs}),Object(o.jsx)("div",{children:Object(o.jsx)(ke.a,{className:"form-control",name:e.fieldName,value:e.fieldValue,control:u,id:"form-".concat(e.fieldName)})})]},e.fieldName)}))})]}),Object(o.jsxs)("div",{className:"modal-footer",children:[!i&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{type:"checkbox"}),Object(o.jsx)("span",{}),c.a.t("close_modal_on_save")]})," ","\xa0 \xa0"]}),Object(o.jsx)("button",{type:"button",className:"modal-close waves-effect waves-green btn-flat",onClick:n,children:c.a.t("close_modal")}),!i&&Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",children:c.a.t("modal_save")})]})]})})},Se=Object(a.b)(Z),Me=function(e){var t=e.modalLoading,n=e.formModalClose,a=e.formFields,l=e.formState,r=e.onFormSubmit,i=e.formIsReadOnly,s=Se(e);return Object(o.jsx)("div",{className:s["form-dialog"],tabIndex:"-1",children:t?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsx)("h4",{children:Object(T.c)(l)}),Object(o.jsx)("div",{className:s["skeleton-loader"]})]}),Object(o.jsx)("div",{className:"modal-footer",children:Object(o.jsx)("button",{type:"button",className:"modal-close waves-effect waves-green btn-flat",onClick:n,children:c.a.t("close_modal")})})]}):Object(o.jsx)(_e,{formFields:a,formModalClose:n,modalLoading:t,formState:l,onFormSubmit:r,readOnly:i})})};Me.defaultProps={formFields:[]};var Fe=Me,De=Object(a.b)($),Ve=function(e){var t=e.buttons,n=e.maxButtons,a=De(e);return Object(o.jsxs)(o.Fragment,{children:[t.filter((function(e,t){return t<n-1})).map((function(e){return Object(o.jsxs)("a",{href:e.url?e.url:"",className:a["simple-button"],onClick:function(t){t.preventDefault(),e.onClick&&e.onClick({primaryKeyValue:e.primaryKeyValue})},children:[e.icon&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.a,{icon:e.icon}),"\xa0"]}),e.text]},e.key)})),Object(o.jsx)(R,{buttons:t.filter((function(e,t){return t>=n-1})),buttonLabel:1===n?c.a.t("actions"):c.a.t("more")})]})};Ve.defaultProps={buttons:[],maxButtons:2};var Ie={ColumnsModal:s,DatagridBody:m,DatagridCheckbox:p,DatagridFooter:k,DatagridHeader:D,DatagridTitle:V,DatagridTools:Q,DatagridWrapper:X,DeleteMultipleModal:re,DeleteSingleModal:se,ErrorDialog:je,FilteringModal:Ne,FormDialog:Fe,GroupButtons:Ve};t.default=Ie}}]);
//# sourceMappingURL=100.c8e87470.chunk.js.map